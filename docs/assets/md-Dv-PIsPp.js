import{d as c,r as b,K as y,f as o,o as a,i as r,g as e,t as p,ad as g,n as d,b as k,w,e as h,v as _,x as D,S as v}from"./modules/vue-uvfpF4v6.js";import{u as f,f as I}from"./slidev/context-Dwb5JsGy.js";import{_ as P}from"./index-B3J_GJ9H.js";import{I as N}from"./slidev/default-Ce1mLiUK.js";import"./modules/shiki-DxUXYpQs.js";const A={class:"api-demo-container border rounded-lg overflow-hidden bg-white dark:bg-gray-800 shadow-md"},C={class:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-3 py-1.5 flex justify-between items-center"},T={class:"flex items-center"},q={class:"font-medium text-sm"},B={key:1,class:"text-white flex items-center text-xs"},j={class:"p-2"},R={class:"relative h-48 mb-1"},S={class:"absolute left-0 top-0 w-5/12 p-2 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"},V={class:"absolute right-0 top-0 w-5/12 p-2 rounded-lg border bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800"},$={class:"text-xs font-medium flex items-center text-purple-700 dark:text-purple-300"},z={key:0,class:"mt-1 p-1 bg-white dark:bg-gray-900 rounded border border-purple-200 dark:border-purple-800 text-xs font-mono overflow-hidden animate-fadeIn"},L={key:1,class:"absolute left-1/2 top-20 -translate-x-1/2 flex flex-col items-center"},E={class:"w-7 h-7 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center"},F={key:0,class:"mt-0.5"},G={key:3,class:"absolute bottom-0 left-0 right-0 text-center bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200 py-1 rounded animate-fadeIn"},K={class:"flex items-center justify-center text-xs"},M={class:"grid grid-cols-3 gap-2 mt-1"},O=c({__name:"ApiDemo",props:{apiName:{type:String,default:"ChatGPT API"},requestDelay:{type:Number,default:1e3},responseDelay:{type:Number,default:2e3},autoPlay:{type:Boolean,default:!1}},setup(m){f();const l=m,n=b(!1),s=b(0),i=b(!1),u=b(!1);function x(){n.value||(i.value=!1,u.value=!1,n.value=!0,s.value=1,setTimeout(()=>{i.value=!0,setTimeout(()=>{s.value=2,setTimeout(()=>{u.value=!0,setTimeout(()=>{s.value=3,setTimeout(()=>{n.value=!1,s.value=0},3e3)},l.responseDelay/2)},l.responseDelay/2)},l.requestDelay)},500))}return y(()=>{l.autoPlay&&setTimeout(x,1e3)}),(J,t)=>(a(),o("div",A,[r(" 头部 "),e("div",C,[e("div",T,[t[0]||(t[0]=e("div",{class:"i-carbon-api mr-1 text-base"},null,-1)),e("div",q,p(m.apiName),1)]),n.value?(a(),o("div",B,t[2]||(t[2]=[e("div",{class:"i-carbon-circle-dash animate-spin mr-1"},null,-1),e("span",null,"处理中",-1)]))):(a(),o("button",{key:0,class:"px-2 py-0.5 bg-white text-blue-600 rounded text-xs font-medium shadow-sm hover:bg-blue-50 transition-all duration-300 flex items-center",onClick:x},t[1]||(t[1]=[e("div",{class:"i-carbon-play-filled mr-1 text-xs"},null,-1),g(" 演示 ")])))]),r(" 主体内容 "),e("div",j,[r(" 流程示意图 "),e("div",R,[r(" 客户端和服务端盒子 "),e("div",S,[t[4]||(t[4]=e("div",{class:"text-xs font-medium flex items-center text-blue-700 dark:text-blue-300"},[e("div",{class:"i-carbon-application mr-1 text-xs"}),g(" 客户端应用 ")],-1)),r(" 请求数据 "),i.value?(a(),o("div",{key:0,class:d(["mt-1 p-1 bg-white dark:bg-gray-900 rounded border border-blue-200 dark:border-blue-800 text-xs font-mono overflow-hidden transition-all duration-500",s.value>=2?"opacity-50":"opacity-100"])},t[3]||(t[3]=[e("pre",{class:"text-[10px] text-left overflow-x-auto max-h-36"},[e("code",null,`{
  "model": "gpt-3.5-turbo",
  "messages": [
    {"role": "user", "content": "介绍一下自己"}
  ]
}`)],-1)]),2)):r("v-if",!0)]),e("div",V,[e("div",$,[t[5]||(t[5]=e("div",{class:"i-carbon-cloud mr-1 text-xs"},null,-1)),g(" "+p(m.apiName)+" 服务端 ",1)]),r(" 响应数据 "),u.value?(a(),o("div",z,t[6]||(t[6]=[e("pre",{class:"text-[10px] text-left overflow-x-auto max-h-36"},[e("code",null,`{
  "id": "chatcmpl-123",
  "choices": [{
    "message": {
      "role": "assistant",
      "content": "你好！我是AI助手..."
    }
  }]
}`)],-1)]))):r("v-if",!0)]),r(" 连接线和箭头 "),t[12]||(t[12]=e("div",{class:"absolute left-1/2 top-0 bottom-0 -ml-0.5 border-l border-dashed border-gray-300 dark:border-gray-600"},null,-1)),r(" 请求箭头 "),s.value>=1?(a(),o("div",{key:0,class:d(["request-arrow absolute top-10 flex items-center animate-slideRight",{"w-[45%]":s.value===1,"w-[42%] opacity-50":s.value>=2}]),style:{left:"38%"}},t[7]||(t[7]=[e("div",{class:"h-0.5 w-full bg-amber-500 rounded"},null,-1),e("div",{class:"absolute -right-1 w-1.5 h-1.5 bg-amber-500 transform rotate-45"},null,-1),e("div",{class:"absolute left-1/2 -top-4 -translate-x-1/2 text-amber-600 dark:text-amber-400 text-[10px]"}," 请求 ",-1)]),2)):r("v-if",!0),r(" 中间处理指示器 "),s.value>=2?(a(),o("div",L,[e("div",E,[e("div",{class:d(["i-carbon-machine-learning-model text-indigo-500 text-sm",{"animate-pulse":s.value===2}])},null,2)]),t[9]||(t[9]=e("div",{class:"text-[10px] text-indigo-600 dark:text-indigo-400"},"AI处理中",-1)),s.value===2?(a(),o("div",F,t[8]||(t[8]=[e("div",{class:"flex space-x-0.5"},[e("div",{class:"w-1 h-1 bg-indigo-500 rounded-full animate-bounce",style:{"animation-delay":"0ms"}}),e("div",{class:"w-1 h-1 bg-indigo-500 rounded-full animate-bounce",style:{"animation-delay":"150ms"}}),e("div",{class:"w-1 h-1 bg-indigo-500 rounded-full animate-bounce",style:{"animation-delay":"300ms"}})],-1)]))):r("v-if",!0)])):r("v-if",!0),r(" 响应箭头 "),s.value>=2?(a(),o("div",{key:2,class:d(["response-arrow absolute top-32 flex items-center",{"w-[42%] animate-slideLeft":s.value===2,"w-[45%]":s.value>=3}]),style:{right:"38%"}},t[10]||(t[10]=[e("div",{class:"h-0.5 w-full bg-green-500 rounded"},null,-1),e("div",{class:"absolute -left-1 w-1.5 h-1.5 bg-green-500 transform -rotate-45"},null,-1),e("div",{class:"absolute left-1/2 -top-4 -translate-x-1/2 text-green-600 dark:text-green-400 text-[10px]"}," 响应 ",-1)]),2)):r("v-if",!0),r(" 完成状态 "),s.value>=3?(a(),o("div",G,[e("div",K,[t[11]||(t[11]=e("div",{class:"i-carbon-checkmark-outline mr-1"},null,-1)),e("span",null,"API调用完成 ("+p(((l.requestDelay+l.responseDelay)/1e3).toFixed(1))+"秒)",1)])])):r("v-if",!0)]),r(" 流程说明 "),e("div",M,[e("div",{class:d(["py-1 px-2 rounded text-center border text-xs",[s.value===1?"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800":"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"]])},t[13]||(t[13]=[e("div",{class:"font-medium"},"1. 发送",-1)]),2),e("div",{class:d(["py-1 px-2 rounded text-center border text-xs",[s.value===2?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800":"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"]])},t[14]||(t[14]=[e("div",{class:"font-medium"},"2. 处理",-1)]),2),e("div",{class:d(["py-1 px-2 rounded text-center border text-xs",[s.value===3?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800"]])},t[15]||(t[15]=[e("div",{class:"font-medium"},"3. 接收",-1)]),2)])])]))}}),H=P(O,[["__scopeId","data-v-235540a2"]]),Z={__name:"slides.md__slidev_3",setup(m){const{$clicksContext:l,$frontmatter:n}=f();return l.setup(),(s,i)=>{const u=H;return a(),k(N,_(D(v(I)(v(n),2))),{default:w(()=>[i[0]||(i[0]=e("h1",null,"传统AI是如何运作的",-1)),h(u,{apiName:"OpenAI Chat API",autoPlay:!1})]),_:1},16)}}};export{Z as default};
